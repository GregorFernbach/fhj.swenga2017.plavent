<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">

<head>
<div th:include="~{includes/bootstrap :: bootstrapMeta}" th:remove="tag" />
<title>PlaVent</title>
<div th:include="~{includes/bootstrap :: bootstrapCSS}" th:remove="tag" />
</head>

<body class="app flex-row align-items-center bg-dark">
	<div class="container" role="main">
		<div class="row justify-content-center">
			<div class="col-md-6">
				<div class="card bg-light mx-4 text-dark">
					<div class="card-body">
						<h1
							th:text="${user} ? 'Change Password for User: ' + ${user.username} : 'Reset Password for User: ' + ${userB.username}"></h1>
						<!-- include message boxes (moved to fragments) -->
						<div th:replace="~{includes/fragments :: msgs}"></div>

						<form class="form-horizontal" method="post"
							th:action="${user} ? @{/changePassword(username=${user.username})} : @{/resetPassword(username=${userB.username})}">

							<fieldset class="col-md-10">

								<!--  ----------------  password ---------------- -->
								<div class="form-group">
									<input class="form-control" type="password" name="password"
										required="required" placeholder="Password">
								</div>
								<!-- --------------  buttons ---------------- -->
								<button type="submit" class="btn btn-outline-dark">Submit</button>
								<th:block sec:authorize="hasRole('ROLE_ADMIN')">
									<a href="showUserManagement" class="btn btn-light">Cancel</a>
								</th:block>
								<th:block sec:authorize="!hasRole('ROLE_ADMIN')">
									<a href="showProfile" class="btn btn-light">Cancel</a>
								</th:block>

							</fieldset>
						</form>
						</th:block>
					</div>
				</div>
			</div>
			<!-- weilands16: include our footer -->
			<footer th:replace="~{includes/fragments :: footer}"></footer>
		</div>

		<!--  End of container -->
		<div th:include="~{includes/bootstrap :: bootstrapJS}" th:remove="tag" />
</body>

</html>