<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">

<head>
<div th:include="~{includes/bootstrap :: bootstrapMeta}" th:remove="tag" />
<title>PlaVent</title>
<div th:include="~{includes/bootstrap :: bootstrapCSS}" th:remove="tag" />
</head>

<body class="app flex-row align-items-center">
	<div class="card container justify-content-center" role="main">
		<div class="card-body">
			<div class="page-header">
				<img src="./img/logo.png" alt="PlaVent" height="150px">
			</div>
			<div class="row">
				<div class="col-md-10 col-md-offset-1">
					<!-- include message boxes (moved to fragments) -->
					<div th:replace="~{includes/fragments :: msgs}"></div>
					<!-- Check if PlaVent Environment exists.
					If not: just show button for initial setup
					<label for="prepare">No PlaVent environment found, please
								press Start to initialize your DB.</label><br> 
					 -->
					<th:block th:if="${noPlaventEnvironment}">
						<form>
							<a th:href="@{/preparePlavent}"
								class="btn btn-lg btn-pill btn-success" id="prepare"> Start
							</a>
						</form>
					</th:block>

					<th:block th:unless="${noPlaventEnvironment}" )>
						<form class="form-horizontal" method="post" th:action="@{/login}">
							<input type="hidden" th:name="${_csrf.parameterName}"
								th:value="${_csrf.token}" />

							<fieldset class="col-md-10">
								<h1>Login</h1>

								<div th:if="${param.error}" class="alert alert-danger">
									Invalid username and password.</div>
								<div th:if="${param.logout}" class="alert alert-success">You
									have been logged out.</div>


								<!--  ----------------  User Name ---------------- -->
								<div class="input-group">
									<div class="input-group mb-3">
										<div class="input-group-prepend">
											<span class="input-group-text" id="basic-addon1">@</span>
										</div>
										<input type="text" class="form-control" placeholder="Username"
											name="username" required="required" value=""
											aria-label="Username" aria-describedby="basic-addon1">
									</div>
								</div>

								<!--  ----------------  password ---------------- -->
								<div class="input-group">
									<input class="form-control" type="password" name="password"
										required="required" value="" placeholder="Password"> <span
										class="input-group-append"> <a href="registerUser"
										class="btn btn-danger">Register</a> <input name="submit"
										class="btn btn-success" type="submit" value="Login">
									</span>
								</div>
							</fieldset>
						</form>
					</th:block>
				</div>
			</div>
		</div>
		<!-- weilands16: include our footer -->
		<footer th:replace="~{includes/fragments :: footer}"></footer>
	</div>

	<!--  End of container -->
	<div th:include="~{includes/bootstrap :: bootstrapJS}" th:remove="tag" />
</body>

</html>